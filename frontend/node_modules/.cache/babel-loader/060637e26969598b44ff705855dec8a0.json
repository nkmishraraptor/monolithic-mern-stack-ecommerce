{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{listOrders,deleteOrder}from'../actions/orderActions';function OrdersScreen(props){const orderList=useSelector(state=>state.orderList);const{loading,orders,error}=orderList;const orderDelete=useSelector(state=>state.orderDelete);const{loading:loadingDelete,success:successDelete,error:errorDelete}=orderDelete;const dispatch=useDispatch();useEffect(()=>{dispatch(listOrders());return()=>{//\n};},[successDelete]);const deleteHandler=order=>{dispatch(deleteOrder(order._id));};return loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\"):/*#__PURE__*/React.createElement(\"div\",{className:\"content content-margined\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Orders\")),/*#__PURE__*/React.createElement(\"div\",{className:\"order-list\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"DATE\"),/*#__PURE__*/React.createElement(\"th\",null,\"TOTAL\"),/*#__PURE__*/React.createElement(\"th\",null,\"USER\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,orders.map(order=>/*#__PURE__*/React.createElement(\"tr\",{key:order._id},/*#__PURE__*/React.createElement(\"td\",null,order._id),/*#__PURE__*/React.createElement(\"td\",null,order.createdAt),/*#__PURE__*/React.createElement(\"td\",null,order.totalPrice),/*#__PURE__*/React.createElement(\"td\",null,order.user.name),/*#__PURE__*/React.createElement(\"td\",null,order.isPaid.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.paidAt),/*#__PURE__*/React.createElement(\"td\",null,order.isDelivered.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.deliveredAt),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\"+order._id,className:\"button secondary\"},\"Details\"),' ',/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>deleteHandler(order),className:\"button secondary\"},\"Delete\"))))))));}export default OrdersScreen;","map":{"version":3,"names":["React","useEffect","useState","Link","useSelector","useDispatch","listOrders","deleteOrder","OrdersScreen","props","orderList","state","loading","orders","error","orderDelete","loadingDelete","success","successDelete","errorDelete","dispatch","deleteHandler","order","_id","createElement","className","map","key","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt","to","type","onClick"],"sources":["/var/www/html/rpt-mm1/frontend/src/screens/OrdersScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listOrders, deleteOrder } from '../actions/orderActions';\n\nfunction OrdersScreen(props) {\n  const orderList = useSelector(state => state.orderList);\n  const { loading, orders, error } = orderList;\n\n  const orderDelete = useSelector(state => state.orderDelete);\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(listOrders());\n    return () => {\n      //\n    };\n  }, [successDelete]);\n\n  const deleteHandler = (order) => {\n    dispatch(deleteOrder(order._id));\n  }\n  return loading ? <div>Loading...</div> :\n    <div className=\"content content-margined\">\n\n      <div className=\"order-header\">\n        <h3>Orders</h3>\n      </div>\n      <div className=\"order-list\">\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>DATE</th>\n              <th>TOTAL</th>\n              <th>USER</th>\n              <th>PAID</th>\n              <th>PAID AT</th>\n              <th>DELIVERED</th>\n              <th>DELIVERED AT</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (<tr key={order._id}>\n              <td>{order._id}</td>\n              <td>{order.createdAt}</td>\n              <td>{order.totalPrice}</td>\n              <td>{order.user.name}</td>\n              <td>{order.isPaid.toString()}</td>\n              <td>{order.paidAt}</td>\n              <td>{order.isDelivered.toString()}</td>\n              <td>{order.deliveredAt}</td>\n              <td>\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\n                {' '}\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\n              </td>\n            </tr>))}\n          </tbody>\n        </table>\n\n      </div>\n    </div>\n}\nexport default OrdersScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}