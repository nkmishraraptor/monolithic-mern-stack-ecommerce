{"ast":null,"code":"import Axios from\"axios\";import{ORDER_CREATE_REQUEST,ORDER_CREATE_SUCCESS,ORDER_CREATE_FAIL,ORDER_DETAILS_REQUEST,ORDER_DETAILS_SUCCESS,ORDER_DETAILS_FAIL,ORDER_PAY_REQUEST,ORDER_PAY_SUCCESS,ORDER_PAY_FAIL,MY_ORDER_LIST_REQUEST,MY_ORDER_LIST_SUCCESS,MY_ORDER_LIST_FAIL,ORDER_DELETE_REQUEST,ORDER_DELETE_SUCCESS,ORDER_DELETE_FAIL,ORDER_LIST_REQUEST,ORDER_LIST_SUCCESS,ORDER_LIST_FAIL}from\"../constants/orderConstants\";const createOrder=order=>async(dispatch,getState)=>{try{dispatch({type:ORDER_CREATE_REQUEST,payload:order});const{userSignin:{userInfo}}=getState();const{data:{data:newOrder}}=await Axios.post(\"/api/orders\",order,{headers:{Authorization:' Bearer '+userInfo.token}});dispatch({type:ORDER_CREATE_SUCCESS,payload:newOrder});}catch(error){dispatch({type:ORDER_CREATE_FAIL,payload:error.message});}};const listMyOrders=()=>async(dispatch,getState)=>{try{dispatch({type:MY_ORDER_LIST_REQUEST});const{userSignin:{userInfo}}=getState();const{data}=await Axios.get(\"/api/orders/mine\",{headers:{Authorization:'Bearer '+userInfo.token}});dispatch({type:MY_ORDER_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:MY_ORDER_LIST_FAIL,payload:error.message});}};const listOrders=()=>async(dispatch,getState)=>{try{dispatch({type:ORDER_LIST_REQUEST});const{userSignin:{userInfo}}=getState();const{data}=await Axios.get(\"/api/orders\",{headers:{Authorization:'Bearer '+userInfo.token}});dispatch({type:ORDER_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:ORDER_LIST_FAIL,payload:error.message});}};const detailsOrder=orderId=>async(dispatch,getState)=>{try{dispatch({type:ORDER_DETAILS_REQUEST,payload:orderId});const{userSignin:{userInfo}}=getState();const{data}=await Axios.get(\"/api/orders/\"+orderId,{headers:{Authorization:'Bearer '+userInfo.token}});dispatch({type:ORDER_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:ORDER_DETAILS_FAIL,payload:error.message});}};const payOrder=(order,paymentResult)=>async(dispatch,getState)=>{try{dispatch({type:ORDER_PAY_REQUEST,payload:paymentResult});const{userSignin:{userInfo}}=getState();const{data}=await Axios.put(\"/api/orders/\"+order._id+\"/pay\",paymentResult,{headers:{Authorization:'Bearer '+userInfo.token}});dispatch({type:ORDER_PAY_SUCCESS,payload:data});}catch(error){dispatch({type:ORDER_PAY_FAIL,payload:error.message});}};const deleteOrder=orderId=>async(dispatch,getState)=>{try{dispatch({type:ORDER_DELETE_REQUEST,payload:orderId});const{userSignin:{userInfo}}=getState();const{data}=await Axios.delete(\"/api/orders/\"+orderId,{headers:{Authorization:'Bearer '+userInfo.token}});dispatch({type:ORDER_DELETE_SUCCESS,payload:data});}catch(error){dispatch({type:ORDER_DELETE_FAIL,payload:error.message});}};export{createOrder,detailsOrder,payOrder,listMyOrders,listOrders,deleteOrder};","map":{"version":3,"names":["Axios","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","MY_ORDER_LIST_REQUEST","MY_ORDER_LIST_SUCCESS","MY_ORDER_LIST_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","createOrder","order","dispatch","getState","type","payload","userSignin","userInfo","data","newOrder","post","headers","Authorization","token","error","message","listMyOrders","get","listOrders","detailsOrder","orderId","payOrder","paymentResult","put","_id","deleteOrder","delete"],"sources":["/var/www/html/rpt-mm1/frontend/src/actions/orderActions.js"],"sourcesContent":["import Axios from \"axios\";\nimport {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL\n} from \"../constants/orderConstants\";\n\nconst createOrder = (order) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\n    const { userSignin: { userInfo } } = getState();\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\n      headers: {\n        Authorization: ' Bearer ' + userInfo.token\n      }\n    });\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\n  } catch (error) {\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\n  }\n}\n\nconst listMyOrders = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/mine\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst listOrders = () => async (dispatch, getState) => {\n\n  try {\n    dispatch({ type: ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders\", {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\n  }\n}\n\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\n\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.delete(\"/api/orders/\" + orderId, {\n      headers:\n        { Authorization: 'Bearer ' + userInfo.token }\n    });\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\n  }\n}\nexport { createOrder, detailsOrder, payOrder, listMyOrders, listOrders, deleteOrder };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}